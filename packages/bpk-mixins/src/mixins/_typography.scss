/*
 * Backpack - Skyscanner's Design System
 *
 * Copyright 2017 Skyscanner Ltd
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

@import '../bonds';

////
/// @group typography
////

/// Type factory.
///
/// @param {variable} $font-size
/// @param {variable} $line-height
///
/// @access private

@mixin _bpk-text-factory($font-size, $line-height) {
  font-size: $font-size;
  line-height: $line-height;
}

/// Small text and line height pairing.
///
/// @example scss
///   .selector {
///     @include bpk-text-sm();
///   }

@mixin bpk-text-sm {
  @include _bpk-text-factory($bpk-font-size-sm, $bpk-line-height-sm);
}

/// Base text and line height pairing.
///
/// @example scss
///   .selector {
///     @include bpk-text-base();
///   }

@mixin bpk-text-base {
  @include _bpk-text-factory($bpk-font-size-base, $bpk-line-height-base);
}

/// Large text and line height pairing.
///
/// @example scss
///   .selector {
///     @include bpk-text-lg();
///   }

@mixin bpk-text-lg {
  @include _bpk-text-factory($bpk-font-size-lg, $bpk-line-height-lg);
}

/// Extra large text and line height pairing.
///
/// @example scss
///   .selector {
///     @include bpk-text-xl();
///   }

@mixin bpk-text-xl {
  @include _bpk-text-factory($bpk-font-size-xl, $bpk-line-height-xl);
}

/// Extra extra large text and line height pairing.
///
/// @example scss
///   .selector {
///     @include bpk-text-xxl();
///   }

@mixin bpk-text-xxl {
  @include _bpk-text-factory($bpk-font-size-xxl, $bpk-line-height-xxl);
}

/// Level 1 heading.
///
/// @example scss
///   .selector {
///     @include bpk-heading-1();
///   }

@mixin bpk-heading-1 {
  margin-top: $bpk-heading-margin-top;
  margin-bottom: $bpk-heading-margin-bottom;
  font-weight: $bpk-h-1-font-weight;

  @include _bpk-text-factory($bpk-h-1-font-size, $bpk-h-1-line-height);

  @include bpk-breakpoint-mobile {
    font-weight: $bpk-h-2-font-weight;

    @include _bpk-text-factory($bpk-h-2-font-size, $bpk-h-2-line-height);
  }
}

/// Level 2 heading.
///
/// @example scss
///   .selector {
///     @include bpk-heading-2();
///   }

@mixin bpk-heading-2 {
  margin-top: $bpk-heading-margin-top;
  margin-bottom: $bpk-heading-margin-bottom;
  font-weight: $bpk-h-2-font-weight;

  @include _bpk-text-factory($bpk-h-2-font-size, $bpk-h-2-line-height);

  @include bpk-breakpoint-mobile {
    font-weight: $bpk-h-3-font-weight;

    @include _bpk-text-factory($bpk-h-3-font-size, $bpk-h-3-line-height);
  }
}

/// Level 3 heading.
///
/// @example scss
///   .selector {
///     @include bpk-heading-3();
///   }

@mixin bpk-heading-3 {
  margin-top: $bpk-heading-margin-top;
  margin-bottom: $bpk-heading-margin-bottom;
  font-weight: $bpk-h-3-font-weight;

  @include _bpk-text-factory($bpk-h-3-font-size, $bpk-h-3-line-height);

  @include bpk-breakpoint-mobile {
    font-weight: $bpk-h-4-font-weight;

    @include _bpk-text-factory($bpk-h-4-font-size, $bpk-h-4-line-height);
  }
}

/// Level 4 heading.
///
/// @example scss
///   .selector {
///     @include bpk-heading-4();
///   }

@mixin bpk-heading-4 {
  margin-top: $bpk-heading-margin-top;
  margin-bottom: $bpk-heading-margin-bottom;
  font-weight: $bpk-h-4-font-weight;

  @include _bpk-text-factory($bpk-h-4-font-size, $bpk-h-4-line-height);

  @include bpk-breakpoint-mobile {
    font-weight: $bpk-h-5-font-weight;

    @include _bpk-text-factory($bpk-h-5-font-size, $bpk-h-5-line-height);
  }
}

/// Level 5 heading.
///
/// @example scss
///   .selector {
///     @include bpk-heading-5();
///   }

@mixin bpk-heading-5 {
  margin-top: $bpk-heading-margin-top;
  margin-bottom: $bpk-heading-margin-bottom;
  font-weight: $bpk-h-5-font-weight;

  @include _bpk-text-factory($bpk-h-5-font-size, $bpk-h-5-line-height);
}

/// Level 6 heading.
///
/// @example scss
///   .selector {
///     @include bpk-heading-6();
///   }

@mixin bpk-heading-6 {
  margin-top: $bpk-heading-margin-top;
  margin-bottom: $bpk-heading-margin-bottom;
  font-weight: $bpk-h-6-font-weight;

  @include _bpk-text-factory($bpk-h-6-font-size, $bpk-h-6-line-height);
}

/// Remove bottom margin from heading. Modifies the various bpk-heading mixins.
///
/// @require {mixin} bpk-heading-1
/// @require {mixin} bpk-heading-2
/// @require {mixin} bpk-heading-3
/// @require {mixin} bpk-heading-4
/// @require {mixin} bpk-heading-5
/// @require {mixin} bpk-heading-6
///
/// @example scss
///   .selector {
///     @include bpk-heading-1();
///     @include bpk-heading--no-bottom-margin();
///   }

@mixin bpk-heading--no-bottom-margin {
  margin-bottom: 0;
}

/// Headings within content containers. Modifies the various bpk-heading mixins.
///
/// @require {mixin} bpk-heading-1
/// @require {mixin} bpk-heading-2
/// @require {mixin} bpk-heading-3
/// @require {mixin} bpk-heading-4
/// @require {mixin} bpk-heading-5
/// @require {mixin} bpk-heading-6
///
/// @example scss
///   .selector {
///     @include bpk-heading-1();
///     @include bpk-content-heading();
///   }

@mixin bpk-content-heading {
  &:not(:first-child) {
    margin-top: $bpk-heading-content-margin-top;
  }
}

/// Paragraph.
///
/// @example scss
///   .selector {
///     @include bpk-paragraph();
///   }

@mixin bpk-paragraph {
  margin-top: $bpk-p-margin-top;
  margin-bottom: $bpk-p-margin-bottom;
}

/// List.
///
/// @example scss
///   .selector {
///     @include bpk-list();
///   }

@mixin bpk-list {
  margin-top: $bpk-list-margin-top;
  margin-bottom: $bpk-list-margin-bottom;
  padding-left: $bpk-spacing-base;
}

/// Nested list. Modifies the bpk-list mixin.
///
/// @require {mixin} bpk-list
///
/// @example scss
///   .selector {
///     @include bpk-list();
///     @include bpk-list--nested();
///   }

@mixin bpk-list--nested {
  margin-top: $bpk-list-nested-margin-top;
  margin-bottom: $bpk-list-nested-margin-bottom;
}

/// List item.
///
/// @example scss
///   .selector {
///     @include bpk-list-item();
///   }

@mixin bpk-list-item {
  margin-top: $bpk-list-item-margin-top;
  margin-bottom: $bpk-list-item-margin-bottom;
}

/// Inline link.
///
/// @example scss
///   .selector {
///     @include bpk-link();
///   }

@mixin bpk-link {
  padding: 0;
  border: 0;
  background-color: transparent;
  color: $bpk-link-color;
  text-decoration: $bpk-link-text-decoration;
  cursor: pointer;
  appearance: none;

  @include bpk-hover {
    color: $bpk-link-hover-color;
    text-decoration: $bpk-link-hover-text-decoration;
  }

  &:visited {
    color: $bpk-link-visited-color;
  }

  &:active {
    color: $bpk-link-active-color;
    text-decoration: $bpk-link-hover-text-decoration;
  }
}

/// White link. Modifies the bpk-link mixin.
///
/// @require {mixin} bpk-link
///
/// @example scss
///   .selector {
///     @include bpk-link();
///     @include bpk-link--white();
///   }

@mixin bpk-link--white {
  color: $bpk-link-white-color;

  @include bpk-hover {
    color: $bpk-link-white-hover-color;
  }

  &:visited {
    color: $bpk-link-white-visited-color;
  }

  &:active {
    color: $bpk-link-white-active-color;
  }
}

/// Active link. Modifies the bpk-link mixin.
///
/// @require {mixin} bpk-link
///
/// @example scss
///   .selector {
///     @include bpk-link();
///     @include bpk-link--active();
///   }

@mixin bpk-link--active {
  color: $bpk-link-active-color;

  &:visited {
    color: $bpk-link-active-color;
  }

  &:active {
    color: $bpk-link-active-color;
  }
}

/// Table.
///
/// @example scss
///   .selector {
///     @include bpk-table();
///   }

@mixin bpk-table {
  width: 100%;
  margin-bottom: $bpk-spacing-sm;
  border-collapse: collapse;
  table-layout: fixed;

  @include bpk-border-sm($bpk-color-gray-100, '');
}

/// Table cell.
///
/// @example scss
///   .selector {
///     @include bpk-table__cell();
///   }

@mixin bpk-table__cell {
  padding: $bpk-spacing-sm;
}

/// Table head cell. Modifies the bpk-table__cell mixin.
///
/// @require {mixin} bpk-table__cell
///
/// @example scss
///   .selector {
///     @include bpk-table__cell();
///     @include bpk-table__cell--head();
///   }

@mixin bpk-table__cell--head {
  background-color: $bpk-color-gray-50;
  font-weight: normal;
  text-align: left;

  @include bpk-rtl {
    text-align: right;
  }
}

/// Code.
///
/// @example scss
///   .selector {
///     @include bpk-code();
///   }

@mixin bpk-code {
  display: inline;
  padding: 0 $bpk-spacing-xs;
  background-color: $bpk-color-gray-50;
  color: $bpk-color-gray-700;
  text-align: left;
  text-shadow: 0 $bpk-one-pixel-rem $bpk-color-white;
  white-space: nowrap;
  vertical-align: bottom;

  @include bpk-border-radius-xs;

  @include bpk-rtl {
    direction: ltr;
  }
}

/// Code block. Modifies the bpk-code mixin.
///
/// @require {mixin} bpk-code
///
/// @example scss
///   .selector {
///     @include bpk-code();
///     @include bpk-code--block();
///   }

@mixin bpk-code--block {
  display: block;
  margin: 0;
  padding: 0;
  white-space: inherit;
  overflow: auto;
  -ms-overflow-style: none;

  &::-webkit-scrollbar {
    display: none;
  }
}

/// Pre (code block wrapper).
///
/// @example scss
///   .selector {
///     @include bpk-code__pre();
///   }

@mixin bpk-code__pre {
  margin: 0 0 $bpk-spacing-sm;
  padding: $bpk-spacing-base;
  background-color: $bpk-color-gray-50;

  @include bpk-border-radius-xs;
}

/// Blockquote.
///
/// @example scss
///   .selector {
///     @include bpk-blockquote();
///   }

@mixin bpk-blockquote {
  margin: 0 0 $bpk-spacing-sm 0;
  padding: $bpk-spacing-sm;
  border-left: solid $bpk-spacing-sm $bpk-color-gray-50;

  @include bpk-rtl {
    border-right: solid $bpk-spacing-sm $bpk-color-gray-50;
    border-left: 0;
  }

  > *:last-child {
    margin-bottom: 0;
  }
}

/// Content container.
///
/// @example scss
///   .selector {
///     @include bpk-content-container();
///   }

@mixin bpk-content-container {
  h1,
  h2,
  h3,
  h4 {
    @include bpk-content-heading;
  }
}

/// Content container for bare html. Modifies the bpk-content-container mixin.
///
/// @require {mixin} bpk-content-container
///
/// @example scss
///   .selector {
///     @include bpk-content-container();
///     @include bpk-content-container--bare-html();
///   }

@mixin bpk-content-container--bare-html {
  h1 {
    @include bpk-heading-1;
  }

  h2 {
    @include bpk-heading-2;
  }

  h3 {
    @include bpk-heading-3;
  }

  h4 {
    @include bpk-heading-4;
  }

  h5 {
    @include bpk-heading-5;
  }

  h6 {
    @include bpk-heading-6;
  }

  a {
    @include bpk-link;
  }

  p {
    @include bpk-paragraph;
  }

  ul,
  ol {
    @include bpk-list;

    ul,
    ol {
      @include bpk-list--nested;
    }

    li {
      @include bpk-list-item;
    }
  }

  table {
    @include bpk-table;

    td {
      @include bpk-table__cell;
    }

    th {
      @include bpk-table__cell;
      @include bpk-table__cell--head;
    }
  }

  code {
    @include bpk-code;
  }

  pre {
    @include bpk-code__pre;

    > code {
      @include bpk-code--block;
    }
  }

  blockquote {
    @include bpk-blockquote;
  }
}
