@import "~bpk-mixins";

.bpk-popover-tether-element {
  &--full-screen-on-mobile {
    @include bpk-breakpoint-mobile {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }
  }
}

.bpk-popover {
  transition: opacity $bpk-duration-sm ease-in-out, transform $bpk-duration-sm ease-in-out;
  outline: 0;
  opacity: 1;

  @include bpk-breakpoint-above-mobile {
    max-width: $bpk-breakpoint-mobile;
    transition: opacity $bpk-duration-xs ease-in-out, transform $bpk-duration-sm ease-in-out;
  }

  &--appear {
    opacity: 0;

    @include bpk-breakpoint-mobile {
      transform: scale(.9);
    }
  }

  &--appear-active {
    opacity: 1;

    @include bpk-breakpoint-mobile {
      transform: scale(1);
    }
  }

  &--full-screen-on-mobile {
    @include bpk-breakpoint-mobile {
      width: 100%;
      height: 100%;
    }
  }

  &__arrow {
    position: absolute;
    display: block;
    border: solid $bpk-spacing-sm transparent;
    pointer-events: none;

    .bpk-popover-tether-element-attached-top & {
      top: -$bpk-spacing-sm;
      left: 50%;
      margin-left: -$bpk-spacing-sm;
      border-bottom-color: $bpk-color-white;
    }

    .bpk-popover-tether-element-attached-right & {
      top: 50%;
      right: -$bpk-spacing-sm;
      margin-top: -$bpk-spacing-sm;
      border-left-color: $bpk-color-white;
    }

    .bpk-popover-tether-element-attached-bottom & {
      bottom: -$bpk-spacing-sm;
      left: 50%;
      margin-left: -$bpk-spacing-sm;
      border-top-color: $bpk-color-white;
    }

    .bpk-popover-tether-element-attached-left & {
      top: 50%;
      left: -$bpk-spacing-sm;
      margin-top: -$bpk-spacing-sm;
      border-right-color: $bpk-color-white;
    }
  }

  &__inner {
    background-color: $bpk-color-white;

    @include bpk-border-radius-sm;
    @include bpk-box-shadow-xl;

    &--full-screen-on-mobile {
      @include bpk-breakpoint-mobile {
        width: 100%;
        height: 100%;
        border-radius: 0;
      }
    }

    .bpk-popover-tether-element-attached-top & {
      margin-top: $bpk-spacing-sm;
    }

    .bpk-popover-tether-element-attached-right & {
      margin-right: $bpk-spacing-sm;
    }

    .bpk-popover-tether-element-attached-bottom & {
      margin-bottom: $bpk-spacing-sm;
    }

    .bpk-popover-tether-element-attached-left & {
      margin-left: $bpk-spacing-sm;
    }
  }

  &__body {
    &--padded {
      padding: $bpk-spacing-sm;
    }
  }

  &__header {
    display: flex;
    padding: $bpk-modal-header-padding;
    box-shadow: $bpk-modal-header-box-shadow;
    justify-content: space-between;
  }

  &__close-button {
    float: right;

    @include bpk-rtl {
      float: left;
    }
  }

  &__footer {
    padding: $bpk-spacing-xs $bpk-spacing-sm;
    text-align: right;
    box-shadow: 0 1px 0 0 $bpk-color-gray-100 inset;

    @include bpk-rtl {
      text-align: left;
    }

    @include bpk-text-sm;
  }
}
